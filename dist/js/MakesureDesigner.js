"use strict";define(function(require,exports,module){var $=require("jquery");require("js/LoadMask")($);var common=require("js/common"),Navagator=require("js/Navagator"),NavMenu=require("js/NavMenu"),Bottom=require("js/Bottom"),Toolbar=require("js/Toolbar"),Alert=require("js/Alert"),MakesureDesigner=React.createClass({displayName:"MakesureDesigner",showAlert:function(){$(this.refs.myModal).modal()},openOnlineQq:function(){window.open("http://b.qq.com/webc.htm?new=0&sid=6710582&o=91djm&q=7","_blank","height=502, width=644,toolbar=no,scrollbars=no,menubar=no,status=no")},submit:function(){var me=this;$.ajax({type:"POST",url:common.createUrl($(".htmlbody").attr("data-ajax-submit")),data:{dataOrderNum:me.state.dataOrderNum},beforeSend:function(){$(".makesureDesigner").loadingOverlay()},success:function(data){$(".makesureDesigner").loadingOverlay("remove"),data.success?window.location.href="makesureOrder.html":(me.setState({title:"错误",message:data.msg}),me.showAlert())},error:function(XMLHttpRequest,textStatus){$(".makesureDesigner").loadingOverlay("remove"),me.setState({title:textStatus,message:JSON.stringify(XMLHttpRequest)}),me.showAlert()},dataType:"json"})},getInitialState:function(){var dataOrderNum=$(".htmlbody").attr("data-orderNum");return{title:"消息",message:"...",dataOrderNum:dataOrderNum}},render:function(){var me=this,dataBreadcrumb=JSON.parse($(".htmlbody").attr("data-breadcrumb")),breadcrumbDom=[];return $.each(dataBreadcrumb,function(index,item){var cls="";return index==dataBreadcrumb.length-1?(breadcrumbDom.push(React.createElement("li",{className:"leaf"},item.name)),!1):void breadcrumbDom.push(React.createElement("li",null,React.createElement("a",{href:item.link,className:cls},item.name)))}),React.createElement("div",null,React.createElement(Navagator,null),React.createElement(NavMenu,{"data-index":"4"}),React.createElement("div",{className:"container makesureDesigner"},React.createElement("ol",{className:"breadcrumb"},breadcrumbDom),React.createElement("div",{className:"noti"},"当前订单状态：确认设计图"),React.createElement("div",{className:"content"},React.createElement("ul",{className:"list-unstyled"},React.createElement("li",null,"系统接单回执："),React.createElement("li",{className:"textIndex"},"您好，91搭积木团队的设计师已经按您的要求在修改您的展台方案，我们的客服人员将在24小时之内与您联系，确认后续的设计施工图和搭建事宜。接下来，我们的客服人员将与您签订线下合同，在您支付完剩余的款项之后，我们的积木工厂将按照确认的设计图和施工图来进行施工。"),React.createElement("li",{className:"textIndex"},"非常感谢您选择91搭积木平台，我们将竭诚为您服务！"))),React.createElement("div",{className:"text-center"},React.createElement("button",{className:"btn btn-base btn-submit",onClick:me.submit},"确认设计图并支付尾款")),React.createElement("div",{className:"text-center footer"},React.createElement("ul",{className:"list-unstyled"},React.createElement("li",null,"我们确认收到您的付款后，将在24小时之内与您联系。"),React.createElement("li",null,"如有疑问，请 ",React.createElement("a",{href:"###",onClick:me.openOnlineQq},"与客服联系"),"。"),React.createElement("li",null,"您还可以：到 ",React.createElement("a",{href:"/order_center.html"},"订单中心")," 中查看订单的最新状态。")))),React.createElement(Bottom,null),React.createElement(Toolbar,null),React.createElement("div",{className:"modal fade",ref:"myModal",tabIndex:"-1",role:"dialog"},React.createElement(Alert,{title:this.state.title,message:this.state.message})))}});$(function(){ReactDOM.render(React.createElement(MakesureDesigner,null),$(".htmlbody").get(0))})});