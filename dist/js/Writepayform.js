"use strict";define(function(require,exports,module){var $=require("jquery");require("lib/bootstrap.min")($),require("js/bootstrapValidator.sea")($),require("js/LoadMask")($);var common=require("js/common"),Navagator=require("js/Navagator"),NavMenu=require("js/NavMenu"),Bottom=require("js/Bottom"),Toolbar=require("js/Toolbar"),Alert=require("js/Alert");require("lib/chinamapPath")(window);var Writepayform=React.createClass({displayName:"Writepayform",showAlert:function(){$(this.refs.myModal).modal()},componentDidMount:function(){var me=this;$('span[data-toggle="tooltip"]').tooltip(),$(".payForm").bootstrapValidator({message:common.regex.fail_text,feedbackIcons:{valid:common.feedbackIcons.valid,invalid:common.feedbackIcons.invalid,validating:common.feedbackIcons.validating}});var form=$(".payForm").data("bootstrapValidator");$(".btn-submit").click(function(){form.isValid()?$.ajax({type:"POST",url:common.createUrl($(".htmlbody").attr("data-ajax-submit")),data:me.state.dataOrder,beforeSend:function(){$(".submit").loadingOverlay()},success:function(data){$(".submit").loadingOverlay("remove"),data.success?window.location.href="/writepayfrom.html":(me.setState({title:"错误",message:data.msg}),me.showAlert())},error:function(XMLHttpRequest,textStatus){$(".submit").loadingOverlay("remove"),me.setState({title:textStatus,message:JSON.stringify(XMLHttpRequest)}),me.showAlert()},dataType:"json"}):document.documentElement.scrollTop=document.body.scrollTop=0})},getInitialState:function(){var dataOrder=JSON.parse($(".htmlbody").attr("data-order"));return{title:"消息",message:"...",dataOrder:dataOrder}},render:function(){return React.createElement("div",null,React.createElement(Navagator,null),React.createElement(NavMenu,{"data-index":"4"}),React.createElement("div",{className:"container writepayform"},React.createElement("div",{className:"noti"},"本项目提供一次设计图免费修改服务，且仅限于颜色、开口方向、画面方位的修改，不涉及整体造型、材质、物料增加的修改。"),React.createElement("div",{className:"title"},"展台搭建详细表单"),React.createElement("form",{className:"writepayformForm form-horizontal"},React.createElement("div",{className:"form-group"},React.createElement("label",{className:"col-md-2"},"参加展会的主题名称："),React.createElement("div",{className:"col-md-10"},React.createElement("input",{name:"exhibition_subject",type:"text",className:"form-control",placeholder:'展会名称如"第46届成都市房地产交易会(2015秋季)"'}))),React.createElement("div",{className:"form-group"},React.createElement("label",{className:"col-md-2"},"尺寸："),React.createElement("div",{className:"col-md-10 size"},React.createElement("input",{name:"length",type:"text",className:"form-control",placeholder:"长"}),React.createElement("div",{className:"glyphicon glyphicon-remove"}),React.createElement("input",{name:"width",type:"text",className:"form-control inline-block",placeholder:"宽"}),React.createElement("div",{className:"glyphicon glyphicon-remove"}),React.createElement("input",{name:"height",type:"text",className:"form-control inline-block",placeholder:"限高"}))),React.createElement("div",{className:"form-group"},React.createElement("label",{className:"col-md-2"},"面积："),React.createElement("div",{className:"col-md-10"},React.createElement("input",{name:"area",type:"text",className:"form-control",placeholder:"长"}))),React.createElement("div",{className:"form-group"},React.createElement("label",{className:"col-md-2"},"是否异形："),React.createElement("div",{className:"col-md-10"},React.createElement("div",{className:"radio-inline"},React.createElement("label",null,React.createElement("input",{type:"radio",name:"is_squareness",value:"0"}),"是")),React.createElement("div",{className:"radio-inline"},React.createElement("label",null,React.createElement("input",{type:"radio",name:"is_squareness",value:"1",checked:!0}),"否")),React.createElement("div",{className:"inline-block"},React.createElement("span",{className:"glyphicon glyphicon-question-sign question","data-toggle":"tooltip","data-placement":"right",title:"您的展台面积是否为特殊形状？例如：三角形、圆形、梯形等"})))))),React.createElement(Bottom,null),React.createElement(Toolbar,null),React.createElement("div",{className:"modal fade",ref:"myModal",tabIndex:"-1",role:"dialog"},React.createElement(Alert,{title:this.state.title,message:this.state.message})))}});$(function(){ReactDOM.render(React.createElement(Writepayform,null),$(".htmlbody").get(0))})});