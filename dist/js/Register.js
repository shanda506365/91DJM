"use strict";define(function(require,exports,module){var $=require("jquery");require("js/bootstrapValidator.sea")($),require("js/LoadMask")($);var common=require("js/common"),Navagator=require("js/Navagator"),NavMenu=require("js/NavMenu"),Bottom=require("js/Bottom"),Toolbar=require("js/Toolbar"),Alert=require("js/Alert"),Register=React.createClass({displayName:"Register",showAlert:function(){$(this.refs.myModal).modal()},tabClick:function(){$(".tabdiv a").toggleClass("active"),$(".tabdiv .icon").toggleClass("glyphicon glyphicon-ok")},checkchange:function(){$(this.refs.checkpro).prop("checked")?$(".submit").prop("disabled",!1):$(".submit").prop("disabled","disabled")},getRandom:function(){var me=this;$.ajax({url:common.createUrl("../testData.json"),data:{},beforeSend:function(){$(".register").loadingOverlay()},success:function(data){console.log(data)},error:function(XMLHttpRequest,textStatus){$(".register").loadingOverlay("remove"),me.setState({title:textStatus,message:JSON.stringify(XMLHttpRequest)}),me.showAlert()},dataType:"json"})},componentDidMount:function(){var me=this;$(".registerForm").bootstrapValidator({message:common.regex.fail_text,feedbackIcons:{valid:common.feedbackIcons.valid,invalid:common.feedbackIcons.invalid,validating:common.feedbackIcons.validating},fields:{telephone:{message:common.regex.fail_text,validators:{notEmpty:{message:common.regex.empty_text},regexp:{regexp:common.regex.telephone,message:common.regex.telephone_text}}},random:{validators:{notEmpty:{message:common.regex.empty_text},regexp:{regexp:common.regex.random,message:common.regex.random_text}}},password:{validators:{notEmpty:{message:common.regex.empty_text},regexp:{regexp:common.regex.password,message:common.regex.password_text}}},repassword:{validators:{notEmpty:{message:"不能为空"},regexp:{regexp:common.regex.password,message:common.regex.password_text}}}}});var form=$(".registerForm").data("bootstrapValidator");$(".submit").click(function(){console.log($(".tabdiv>.active").attr("data-index")),form.isValid()&&$.ajax({url:common.createUrl("../testData.json"),data:{},beforeSend:function(){$(".register").loadingOverlay()},success:function(data){$(".register").loadingOverlay("remove"),console.log(data)},error:function(XMLHttpRequest,textStatus){$(".register").loadingOverlay("remove"),me.setState({title:textStatus,message:JSON.stringify(XMLHttpRequest)}),me.showAlert()},dataType:"json"})})},getInitialState:function(){return{title:"消息",message:"..."}},render:function(){return React.createElement("div",null,React.createElement(Navagator,null),React.createElement(NavMenu,{"data-index":"0"}),React.createElement("div",{className:"container register"},React.createElement("div",{className:"col-md-7 col-md-push-5"},React.createElement("img",{src:"images/B01.jpg",alt:"",className:"img-responsive"})),React.createElement("form",{className:"registerForm form-horizontal  col-md-5 col-md-pull-7"},React.createElement("div",{className:"form-group"},React.createElement("label",{className:"title"},"欢迎来到91搭积木  请注册")),React.createElement("div",{className:"form-group tabdiv"},React.createElement("a",{href:"###",onClick:this.tabClick,"data-index":"1",className:"active  text-center"},React.createElement("div",null,"设计师注册"),React.createElement("div",{className:"icon glyphicon glyphicon-ok"})),React.createElement("a",{href:"###",onClick:this.tabClick,"data-index":"2",className:"text-center"},React.createElement("div",null,"企业注册"),React.createElement("div",{className:"icon"}))),React.createElement("div",{className:"form-group"},React.createElement("input",{type:"text",className:"form-control",name:"telephone",placeholder:"手机号"})),React.createElement("div",{className:"form-group"},React.createElement("div",{className:"col-md-8 pl0"},React.createElement("input",{type:"text",className:"form-control",name:"random",placeholder:"动态码"})),React.createElement("a",{href:"###",onClick:this.getRandom,className:"getRandom"},"获取动态码")),React.createElement("div",{className:"form-group"},React.createElement("input",{type:"password",className:"form-control","data-bv-identical":"true","data-bv-identical-field":"repassword","data-bv-identical-message":common.regex.identical_text,name:"password",placeholder:common.regex.password_text})),React.createElement("div",{className:"form-group"},React.createElement("input",{type:"password",className:"form-control","data-bv-identical":"true","data-bv-identical-field":"password","data-bv-identical-message":common.regex.identical_text,name:"repassword",placeholder:common.regex.repassword_text})),React.createElement("div",{className:"form-group checkbox"},React.createElement("label",null,React.createElement("input",{ref:"checkpro",type:"checkbox",onClick:this.checkchange})," ",React.createElement("span",{className:"grayf"},"我已经看过并同意 "),React.createElement("a",{href:"###",target:"_blank"},"《 用户协议 》"))),React.createElement("div",{className:"form-group"},React.createElement("button",{className:"btn btn-default submit",disabled:"disabled"},"同意协议并注册"),React.createElement("span",{className:"grayf"},"已有搭积木帐号?",React.createElement("a",{href:"login.html"},"立即登录"))))),React.createElement(Bottom,null),React.createElement(Toolbar,null),React.createElement("div",{className:"modal fade",ref:"myModal",tabIndex:"-1",role:"dialog"},React.createElement(Alert,{title:this.state.title,message:this.state.message})))}});$(function(){ReactDOM.render(React.createElement(Register,null),$(".htmlbody").get(0))})});