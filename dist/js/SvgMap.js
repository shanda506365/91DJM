"use strict";define(function(require,exports,module){var $=require("jquery");require("lib/chinamapPath")(window),require("lib/raphael")(window);var SvgMap=React.createClass({displayName:"SvgMap",raphaelR:null,CreatChinaSvg:function(dom){var me=this;me.raphelR=Raphael(dom,"100%","100%"),paintMap(me.raphelR),me.raphelR.setViewBox(0,0,600,500,!1)},InitChinaSvgDataEvent:function(data,clickFun){var me=this,R=me.raphelR,textAttr={fill:"#60587F","font-size":"12px",cursor:"pointer"};for(var state in china)!function(st,state){st.attr({cursor:"pointer"});var xx=st.getBBox().x+st.getBBox().width/2,yy=st.getBBox().y+st.getBBox().height/2;switch(china[state].name){case"江苏":xx+=5,yy-=10;break;case"河北":xx-=10,yy+=20;break;case"天津":xx+=10,yy+=10;break;case"上海":xx+=10;break;case"广东":yy-=10;break;case"澳门":yy+=10;break;case"香港":xx+=20,yy+=5;break;case"甘肃":xx-=40,yy-=30;break;case"陕西":xx+=5,yy+=10;break;case"内蒙古":xx-=15,yy+=65}var val="0";$.each(data,function(index,item){item.province_code==china[state].code&&(val=item.count)}),"undefined"!=typeof china[state].text&&china[state].text.remove(),china[state].text=R.text(xx,yy,china[state].name+"("+val+")").attr(textAttr),st[0].onclick=china[state].text[0].onclick=function(){clickFun&&clickFun(china[state].code)},st[0].onmouseover=china[state].text[0].onmouseover=function(){st.animate({fill:"#feab0d",stroke:"#FCFCFC","stroke-width":2},300),st.toFront(),china[state].text.animate({stroke:"#60587F","stroke-width":.5},1),china[state].text.toFront(),R.safari()},st[0].onmouseout=china[state].text[0].onmouseout=function(){st.animate({fill:"#f05900",stroke:"#eee","stroke-width":1},300),china[state].text.animate({"stroke-width":0},1),st.toBack(),china[state].text.toFront(),R.safari()}}(china[state].path,state)},componentDidMount:function(){var me=this;console.log(this.refs.svgmap),me.CreatChinaSvg(this.refs.svgmap),me.InitChinaSvgDataEvent({},function(code){console.log(code)})},render:function(){return React.createElement("div",{ref:"svgmap",className:"svgmap"})}});module.exports=SvgMap});